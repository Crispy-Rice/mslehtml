<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>添加员工信息</title>
		<link rel="stylesheet" href="../layui/layui-v2.5.4/layui/css/layui.css">
		<script src="../layerdate/layDate-v5.0.9/laydate/laydate.js"></script>
		<script src="../layui/layui-v2.5.4/layui/layui.js"></script>
	</head>
	<body>
		<form class="layui-form layui-form-pane" action="">
			<blockquote class="layui-elem-quote">	
				<!-- <div class="layui-form-item">
				<label class="layui-form-label">ID</label>
				<div class="layui-input-block">
				<input type="text" name="staffID" required lay-verify="required" placeholder="请输入id" autocomplete="off" class="layui-input">
				</div>
			</div>	 -->
				
			<div class="layui-form-item">
			<label class="layui-form-label">姓名</label>
			<div class="layui-input-block">
			<input type="text" name="staffName" required lay-verify="required" placeholder="请输入姓名" autocomplete="off" class="layui-input">
			</div>
		</div>	
			<!-- <div class="layui-form-item">	
			<label class="layui-form-label">密码</label>
			<div class="layui-input-block">
			<input type="text" name="staff_password" required lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
			</div>
		</div> -->
			<div class="layui-form-item">	
			<label class="layui-form-label">性别</label>
			<div class="layui-input-block">
			<input type="text" name="staffGender" required lay-verify="required" placeholder="请输入性别" autocomplete="off" class="layui-input">	
		    </div>
		</div>
			
			<div class="layui-form-item">
				<label class="layui-form-label">年龄</label>
				<div class="layui-input-block">
				<input type="text" name="staffAge" required lay-verify="required" placeholder="请输入年龄" autocomplete="off" class="layui-input">
				</div>
			</div>	
				<div class="layui-form-item">	
				<label class="layui-form-label">电话</label>
				<div class="layui-input-block">
				<input type="text" name="staffPhone" required lay-verify="required" placeholder="请输入电话" autocomplete="off" class="layui-input">
				</div>
			</div>
				<div class="layui-form-item">	
				<label class="layui-form-label">职位</label>
				<div class="layui-input-block">
				<input type="text" name="staffPosition" required lay-verify="required" placeholder="请输入职位" autocomplete="off" class="layui-input">	
			    </div>
			</div>
			
			<div class="layui-form-item">
				<label class="layui-form-label">职责</label>
				<div class="layui-input-block">
				<input type="text" name="staffResponsibility" required lay-verify="required" placeholder="请输入职责" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">底薪</label>
				<div class="layui-input-block">
				<input type="text" name="staffStrategyRate" required lay-verify="required" placeholder="请输入底薪" autocomplete="off" class="layui-input">
				</div>
			</div>	
				<div class="layui-form-item">	
				<label class="layui-form-label">月/提成</label>
				<div class="layui-input-block">
				<input type="text" name="staffStrategyMonthly" required lay-verify="required" placeholder="请输入月/提成" autocomplete="off" class="layui-input">
				</div>
			</div>
				<div class="layui-form-item">	
				<label class="layui-form-label">次/提成</label>
				<div class="layui-input-block">
				<input type="text" name="staffStrategyMetering" required lay-verify="required" placeholder="请输入次/提成" autocomplete="off" class="layui-input">	
			    </div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">所属机构</label>
				<div class="layui-input-block">
				<input type="text" name="staffOrganization" required lay-verify="required" placeholder="请输入机构" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-input-block">
					<button class="layui-btn" lay-submit lay-filter="formDemo">确认</button>
					<button type="reset" class="layui-btn layui-btn-primary">重置</button>
				</div>
			</div>
		</form>
		<script src="../jquery/jquery-3.3.1.min.js"></script>
		<script src="../layui/layui-v2.5.4/layui/layui.js"></script>
		<script>
			//Demo
			layui.use(['layer', 'form', 'element'], function() {
				var form = layui.form,
					$ = layui.jquery,
					element = layui.form;
				//监听提交
					//监听提交
						form.on('submit(formDemo)', function(data) {
							layer.msg(JSON.stringify(data.field));
							$.ajax({
								type: "post",
								url: "http://192.168.2.220:8080/staff/addStaff",
								data: JSON.stringify(data.field),
								contentType: "application/json",
								dataType: 'json',
								success: function(data) {
									alert("提交成功!");
									sessionStorage.setItem("receive", "success"); //向session存入接件成功标志
									// top.location.href="Receive.html";
									// target="main";
									// // window.history.
								},
								error: function(ERR) {
									console.log(ERR);
									alert("提交失败！！！！");
								}
							})
							return false;
						});
					});
					$(document).ready(function() {
						$("#add").click(function() {
							// alert("asdasdas");
							var data = {
								/* staffId: $("staffId").val(), */
								staffName: $("staffName").val(),
								staffGender: $("staffGender").val(),
								staffAge: $("staffAge").val(),
								staffPhone: $("staffPhone").val(),
								staffPosition: $("staffPosition").val(),
								staffResponsibility: $("staffResponsibility").val(),
								staffStrategyMonthly: $("staffStrategyMonthly").val(),
								staffStrategyMetering: $("staffStrategyMetering").val(),
								staffStrategyRate: $("staffStrategyRate").val(),
								staffOrganization: $("staffOrganization").val()
							}
						})
					})
					layui.use('laydate', function() {
						var laydate = layui.laydate;
						//执行一个laydate实例
						laydate.render({
							elem: '#test1' //指定元素
						});
					});
		</script>
	</body>
</html>

